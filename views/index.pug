extends layout

//- Setzt die Variable 'title', die von partials/header.pug verwendet wird
block vars
  - let pageTitle = "CA Ãœbersicht"

block content
  //- Flash-Nachrichten anzeigen
  if message && message.length > 0
    .message.success= message
  if error && error.length > 0
    .message.error= error

  .form-card
    h3 Neue Certificate Authority erstellen
    form(action="/create-ca", method="POST")
      .form-grid
        .form-group
          label(for="caName") CA Name (Kurzname, keine Leerzeichen):
          input#caName(type="text", name="caName", required, pattern="[a-zA-Z0-9_-]+")
        .form-group
          label(for="caPassword") CA Passwort (sehr sicher!):
          input#caPassword(type="password", name="caPassword", required)
        .form-group
          label(for="country") Land (z.B. DE):
          input#country(type="text", name="country", value="DE")
        .form-group
          label(for="state") Bundesland/Staat:
          input#state(type="text", name="state", value="N/A")
        .form-group
          label(for="locality") Stadt:
          input#locality(type="text", name="locality", value="N/A")
        .form-group
          label(for="organization") Organisation:
          input#organization(type="text", name="organization", required)
      button(type="submit") CA Erstellen

  .form-card
    h3 Vorhandene CAs
    ul.nav-list
      if cas.length === 0
        p Noch keine CAs erstellt.
      else
        each ca in cas
          li
            a(href=`/ca/${ca.name}`)= ca.name